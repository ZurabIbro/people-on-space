# People on Space

## Summary

Цель данного челленджа:
- закрепить работу с `fetch`
- сделать обработку ошибок
- понять как получать и выводить массив
- подготовиться к более сложному челленджу: _список дел с REST API_

Ты будешь разрабатывать приложение, которое будет показывать количество людей в космосе на данный момент, а также список их имён.

## Releases

Сделай форк данного репозитория. Затем склонируй **форкнутый** репозиторий на свой комп и начинай работу.

⚠️ НЕ ОТКРЫВАЙ ФАЙЛ `check-your-work.js`!!!

### Pre release

Ознакомься с кодом из файлов `index.html`, `index.js` и `styles.css`. Это заготовки кода, которые тебе нужно доработать.

Обрати внимание на два момента:
1) тег `<script>` прописан в `<head>`, а не в конце `<body>`
2) JS-файл начинается с обработки события `DOMContentLoaded` для объекта `window`.

Второй пункт позволяет выполнить код только в тот момент, когда все теги со страницы будут загружены и готовы к работе.

---

Проверь формат ответа сервера `http://api.open-notify.org/astros.json`.

На наш запрос он присылает объект, в котором ключи `people`, `number` и `message`. 
Ключ `people` содержит массив объектов. В каждом объекте **имя** космонавта, а также его **размещение** (ISS - МКС).

Ключ `number` – количество человек.

Ключ `message` – статус обработка нашего запроса. `success` означает успех.

Для того, чтобы увидеть ответ в более удобочитаемом виде можно воспользоваться сервисами наподобие [jsonformatter.org/json-pretty-print](https://jsonformatter.org/json-pretty-print).

### Release 0

Доработай код из файла `index.js` так, чтобы после получения ответа с сервера пользователь видел количество людей в космосе.

Для этого ты должен число из ключа `number` разместить внутри узла `#count`.

```
// псевдокод
... 
  .then((data) => {
    получить узел с айди count
    разместить в этом узле значение из data.number
})
...
```
### Release 1

В текущем релизе сделай вывод списка имен в таблице.

Тебе понадобятся:
- цикл
- создание четырех узлов (один для строки, трое для столбцов)

```
// псевдокод
ЦИКЛ для каждого элемента массива
  создать четыре узла
  вложить три узла для столбца (td) в узел строки (tr)
  указать для каждого столбца текстовый контент
  
  вложить узел строки (tr) в конец таблицы
```

### Release 2

Необходимо доработать код так, чтобы он умел обрабатывать ошибки в сетевых запросах.

Поменяй в адресе сервера любой символ (чтобы в адресе была ошибка) и обнови страницу. Ты не увидишь результата запроса, но также нет и сообщения об ошибке.

Доработай метод `.catch()` таким образом, чтобы:
- текстовое содержимое узла `#count` сменилось на "неизвестно",
- таблица заменилась на новый узел `div` с классом `error` и с текстом об ошибке.

Для реализации второго пункта тебе понадобится метод `.replaceWith()`. См [документацию](https://developer.mozilla.org/ru/docs/Web/API/ChildNode/replaceWith#%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_replacewith).

### Release 3. Code refactoring

Проанализируй свой код на читаемость. 

Добавь перед каждой строкой небольшой комментарий о том, что эта строка делает.

Замени названия переменных на более информативные там, где это нужно.

Если у тебя в кода переменные с названиями `div`, `td2`, `text` и т.д. – это тревожный сигнал. 

Переменная должна наглядно говорить о том, что в ней находится.

Пример хороших названий:

```javascript
const tableRow = ...
const tableColumnForName = ...
const textAboutError = ...
const mainDivOnPage ...;
```

Выгрузи текущую версию своего приложения и сделай pull request.

## Conclusion

После выполнения всех релизов открой файл `check-your-code.js` из текущей папки и сравни своё решение с эталонным.

⚠️⚠️⚠️ НИ В КОЕМ СЛУЧАЕ НЕ ОТКРЫВАЙ ЭТОТ ФАЙЛ ПОКА НЕ СДАШЬ ВСЕ РЕЛИЗЫ. НЕЛЬЗЯ ПОДСМАТРИВАТЬ НИ ОДИН СИМВОЛ ИЗ НЕГО!!!

После этого ответь на вопросы:
- отличался ли ход твоего решения от эталонного кардинально?
- какие свойства/методы из эталонного решения ты видел впервые?
- можно ли как-то улучшить этот код?

Поработай над своими ответами. К примеру, если ты встретил новые свойства/методы, то прочитай про них дополнительно и изучи.
Если отличие твоего кода от эталонного было сильным, то определи участки, которые более всего отличилась и постарайся запомнить их, чтобы в будущем применять эти решения на практике.

✅ Данный челлендж будет считаться выполненным после того, как ты сможешь написать повторно весь код приложения не подсматривая в старый.
